# Solano CI configuration for solano-phpunit
#
# Copyright (c) 2015 Solano Labs All Rights Reserved

tests:
  # Test all excluding E2E group
  - type: phpunit
    mode: parallel
    output: exit-status
    command: ./solano-phpunit  # Default location when added by composer: vendor/bin/solano-phpunit
    config: phpunit.xml        # If not supplied, defaults are checked in order: phpunit.xml, phpunit.xml.dist
    files:
      - tests/**Test.php
  # Test excluding all test files
  - ./solano-phpunit --group not_set

php:
  php_version:
    SPLIT:
      - '5.3'
      - '5.5'
      - '7.0'

hooks:
  pre_setup: composer install

cache:
  # Ensure each build pulls fresh dependencies to check for requirements breaking
  nocache: true
